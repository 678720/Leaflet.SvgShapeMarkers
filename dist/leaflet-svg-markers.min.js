L.SVG.include({_updateShape:function(t){var i=t._point,e=t.size,s=t.shape;if("diamond"==s){var n="M "+(i.x-e)+" "+i.y+", L "+i.x+" "+(i.y-e)+", L"+(i.x+e)+" "+i.y+", L"+i.x+" "+(i.y+e)+", L"+(i.x-e)+" "+i.y;this._setPath(t,n)}if("square"==s){var n="M "+(i.x-e)+" "+(i.y-e)+", L "+(i.x+e)+" "+(i.y-e)+", L"+(i.x+e)+" "+(i.y+e)+", L"+(i.x-e)+" "+(i.y+e)+", L"+(i.x-e)+" "+(i.y-e);this._setPath(t,n)}if("triangle"==s){var n="M"+(i.x-e)+" "+(i.y+e)+" L"+i.x+" "+(i.y-e)+" L"+(i.x+e)+" "+(i.y+e)+" Z";this._setPath(t,n)}}}),L.ShapeMarker=L.Path.extend({options:{fill:!0,shape:"triangle",size:10},initialize:function(t,i){L.setOptions(this,i),this._latlng=L.latLng(t),this.size=this.options.size,this.shape=this.options.shape},setLatLng:function(t){return this._latlng=L.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setSize:function(t){return this.options.size=this._size=size,this.redraw()},getSize:function(){return this._size},setStyle:function(t){var i=t&&t.size||this._size;return L.Path.prototype.setStyle.call(this,t),this.setSize(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._size,i=this._sizeY||t,e=this._clickTolerance(),s=[t+e,i+e];this._pxBounds=new L.Bounds(this._point.subtract(s),this._point.add(s))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateShape(this)},_empty:function(){return this._size&&!this._renderer._bounds.intersects(this._pxBounds)}}),L.shapeMarker=function(t,i){return new L.ShapeMarker(t,i)};